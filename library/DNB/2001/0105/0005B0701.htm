<html><!-- #BeginTemplate "/模板/soft.dwt" -->
<head>
<!-- #BeginEditable "doctitle" --> 
<title>Linux下FTP服务器的安装和配置</title>
<!-- #EndEditable --> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" href="library/DNB/2001/_25C4_25A3_25B0_25E5/cpcw.css">
</head>

<body bgcolor="#FFFFFF" leftmargin="0" topmargin="2" marginwidth="0" marginheight="0">
<table width="770" border="1" cellspacing="0" cellpadding="1" align="center" bordercolorlight="#CCCCCC" bordercolordark="#FFFFFF">
  <tr> 
    <td width="148" align="center"> <iframe src="http://www.lpzx.edu.cn/library/www.yesky.com/adj/html/cpcw-left.htm" width="140" height="60" frameborder="0" scrolling="no"></iframe> 
    </td>
    <td width="473" align="center" height="61"> 
      <script language="JavaScript" src="http://www.lpzx.edu.cn/library/www.yesky.com/adj/js/cpcw.js"></script>
    </td>
    <td align="center" width="149"><iframe src="http://www.lpzx.edu.cn/library/www.yesky.com/adj/html/cpcw-right.htm" width="140" height="60" frameborder="0" scrolling="no"></iframe></td>
  </tr>
</table>
<table width="770" border="0" cellspacing="0" cellpadding="0" align="center" height="22" bgcolor="#3366CC">
  <tr> 
    <td width="40" align="center" height="20"><img src="http://www.lpzx.edu.cn/library/DNB/2001/0105/images/b1.gif" width="14" height="14"></td>
    <td width="583" height="20"> <span class="wj">| <a href="wrapup.html" class="wj"><font color="#FFFFFF">综合报道</font></a> 
      | <a href="software.html"><font color="#FFFFFF">软件世界</font></a> | <a href="hardware.html"><font color="#FFFFFF">硬件周刊</font></a> 
      | <a href="internet.html"><font color="#FFFFFF">互联网时代</font></a> | <a href="oa.html"><font color="#FFFFFF">OA专刊</font> 
      </a>| <a href="game.html"><font color="#FFFFFF">游戏广场</font></a> | <a href="library/DNB/2001/0105/maket.html"><font color="#FFFFFF">评测与市场</font></a> 
      | <a href="zt.html"><font color="#FFFFFF">专题版</font> </a>| <a href="library/DNB/default.htm"><font color="#FFFFFF">首页</font></a></span></td>
    <td align="right" width="147" rowspan="2">&nbsp;</td>
  </tr>
  </table>
<table width="770" border="0" cellspacing="0" cellpadding="0" align="center" height="48">
  <tr> 
    <td width="174" valign="bottom"><a href="library/DNB/default.htm"><img src="http://www.lpzx.edu.cn/library/DNB/2001/0105/tit.gif" width="169" height="68" border="0"></a></td>
    <td width="448" class="nava">本期看点—— </td>
    <td align="right" width="148" valign="top"><a href="library/www.yesky.com/default.htm"><img src="http://www.lpzx.edu.cn/library/www.yesky.com/newimages/news/logo.gif" width="140" height="60" border="0"></a></td>
  </tr>
</table>
<table width="770" border="0" cellspacing="0" cellpadding="0" align="center" height="11">
  <tr> 
    <td width="169" rowspan="2" valign="top">&nbsp;</td>
    <td width="141" rowspan="2" valign="top">&nbsp;</td>
  </tr>
  <tr>
    <td width="460" height="9"></td>
  </tr>
</table>
<table width="770" border="0" cellspacing="0" cellpadding="0" align="center">
  <tr> 
    <td colspan="3" valign="top"> 
      <table width="600" border="0" cellspacing="0" cellpadding="0" align="center">
        <tr> 
          <td class="nava"><font color="#FF9900">你所在的位置：&gt;&gt;<a href="library/DNB/default.htm">《电脑报》电子版</a> 
            &gt;&gt;<a href="library/DNB/2001/Templates/index.html">2001年<!-- #BeginEditable "%B5%DA%BC%B8%C6%DA" -->{第05期}<!-- #EndEditable --> 
            </a>&gt;&gt;</font>软件世界</td>
        </tr>
      </table>
      <table width="600" border="0" cellspacing="0" cellpadding="0" align="center">
        <tr> 
          <td> 
            <div align="center"><!-- #BeginEditable "%CE%C4%D5%C2%B1%EA%CC%E2" -->{Linux下FTP服务器的安装和配置}<!-- #EndEditable --></div>
          </td>
        </tr>
      </table>
      <table width="600" border="0" cellspacing="0" cellpadding="5" align="center">
        <tr> 
          <td> 
            <p><!-- #BeginEditable "%CE%C4%D5%C2%C4%DA%C8%DD" -->{ 编者按：在以前的文章中，我们介绍了Linux下万维网（WWW）服务器的安装和配置。下面，我们接着为大家介绍Linux下FTP服务器的安装和配置。<br>
              FTP（File Transfer Protocol）也是Internet上被广为应用的一种服务，它主要被用来完成文件上传与下载的工作。Linux下常见的免费FTP服务器也有许多种，目前最常见的是wu-ftp（Washington 
              University FTP Server）。本文就以它为例来说明FTP服务器的安装和配置。由于FTP服务器的安装比较简单，本文的重点将放在FTP服务器的配置上。<br>
              1.安装<br>
              在安装Linux系统的时候（如 RedHat Linux、Turbo Linux、蓝点Linux、红旗Linux等），选择安装FTP 
              Daemon，然后安装程序就会自动为你安装好FTP服务器。如果高级用户或者Linux发烧友想自己编译并安装wu-ftp服务器的话，可以到各大Linux站点去下载软件包wu-ftpd-2xxx.tar.gz然后自己试着编译并安装一下，这里就不详细叙述了。<br>
              在安装完成之后，为了验证wu-ftp服务器是否在工作，最简便的方法就是使用以下命令：<br>
              root＠redhatlinux /＃ ftp localhost<br>
              Connected to localhost.<br>
              220 redhatlinux.myserver FTP server Version wu-2.4.2-academBETA-181<br>
              Mon Aug 3 19 1720 EDT 1998 ready.<br>
              Name localhostroot mike<br>
              331 Password required for mike.<br>
              PassworD:<br>
              230 User mike logged in.<br>
              Remote system type is UNIX.<br>
              Using binary mode to transfer files.<br>
              ftp&gt;bye<br>
              221 Goodbye.<br>
              注意：默认情况下，root用户是不被允许从FTP登录的。所以在试验之前，先要建一个普通用户，或者使用匿名用户（anonymous）登录。如果显示一切正常的话， 
              wu-ftp服务器就已经被正确安装了。<br>
              2.配置<br>
              同Apache WWW 服务器一样，有几个文件控制着wu-ftp服务器的工作。它们是：ftpaccess、ftpconversions、ftpgroups、ftphosts和ftpusers 
              。在Redhat Linux下，这几个文件都放在/etc/下，不同的FTP服务器有可能把它们放在不同的目录下，用户可以用find命令找到它们。<br>
              2.1配置ftpaccess<br>
              它是wu-ftp服务器的主要配置文件。下面是一个典型的ftpaccess文件的内容，在＃后面，给出了语法说明和简要的解释。<br>
              class all realguestanonymous <br>
              ＃ 语法：class &lt;class&gt; &lt;typelist&gt; &lt;addrglob&gt;&lt;addrglob&gt;... 
              <br>
              定义用户类别：它定义从各&lt;addrglob&gt;地址来，用&lt;typelist&gt;登录的用户为&lt;class&gt;类。&lt;typelist&gt;为用户类型，可以为real（真实用户），guest（属于客人组的真实用户，用guestgroup定义），anonymous（匿名FTP用户）。上面的例子，就定义了从任意节点（）来，用真实用户身份、guest身份以及用匿名身份登录的用户都为all这个类的用户。将用户定义为多个类，可以在下面的指令中对其分别设置不同的权限。<br>
              email root＠localhost<br>
              ＃ 语法：email email-address<br>
              FTP服务器管理员的电子邮件地址。<br>
              loginfails 5<br>
              ＃ 语法：loginfails number<br>
              设置在用户在number次登录错误之后，显示“Repeated login failures”信息并断开连接。这在一定程度上增加了别人猜测用户密码的难度。<br>
              limit all 100 SaSu ｜ Any1800-0600 /etc/msgs/ftp.toomany<br>
              limit all 60 Any /etc/msgs/ftp.toomany<br>
              ＃ 语法：limit &lt;class&gt; number &lt;time&gt; message-file<br>
              限制各类用户在某时间段登录的数量。如果超过限制，给被拒绝登录的用户显示message-file指定的文件内容。上面的指令限制all类的用户在周六周日的1800到0600不能超过100人，平时不能超过60人。<br>
              readme README login<br>
              readme README cwd＝<br>
              ＃ 语法：readme readmefile condition<br>
              设置当用户登录或者第一次进入某个目录时系统提示用户阅读的文件。<br>
              message /welcome.msg login<br>
              message .message cwd＝<br>
              ＃ 语法：message messagefile condition<br>
              设置当用户登录或者第一次进入某个目录时系统给出的提示信息。<br>
              compress yes all<br>
              tar yes all<br>
              chmod no guestanonymous<br>
              delete no guestanonymous<br>
              overwrite no guestanonymous<br>
              rename no guestanonymous<br>
              ＃ 设置某一类的用户是否支持用这些系统功能。<br>
              log commands real<br>
              ＃ 语法：log commands &lt;typelist&gt;<br>
              记录&lt;typelist&gt;用户使用的命令。<br>
              log transfers anonymousreal inboundoutbound<br>
              ＃ 语法：log transfers &lt;typelist&gt; &lt;directions&gt;<br>
              记录&lt;typelist&gt;用户在&lt;directions&gt;方向上的文件传输。&lt;directions&gt;可以为inbound（上传）和outbound（下载）。<br>
              shutdown /etc/shutmsg<br>
              ＃ 语法：shutdown filename<br>
              如果filename指定的文件存在，服务器将定期检查它以确定服务器是否预定关闭。这个文件的格式为：<br>
              &lt;year&gt; &lt;month&gt; &lt;day&gt; &lt;hour&gt; &lt;minute&gt; 
              &lt;deny＿offset&gt; &lt;disc＿offset&gt;<br>
              &lt;text&gt;<br>
              其中&lt;deny＿offset&gt;和&lt;disc＿offset&gt;的意思是在服务器关闭之前多长时间将拒绝新的连接和中断现存的连接。&lt;text&gt;是给被拒绝连接的用户的一段信息。<br>
              passwd-check rfc822 warn<br>
              ＃ 语法：passwd-check check-method solve-method<br>
              设置口令检验方式。check-method可以为<br>
              none：不进行口令检查。<br>
              trivial：口令中必须含有“＠”符号。<br>
              rfc822：口令必须满足rfc822规定。<br>
              solve-method可以为<br>
              warn：只警告用户，但允许登录。<br>
              enforce：警告用户并且断开连接。<br>
              guestgroup ftponly<br>
              ＃语法：guestgroup group<br>
              定义哪个组的真实用户属于guest组。<br>
              2.2配置ftpconversions<br>
              这个文件定义文件的“飞行”转换规则。所谓“飞行”转换是指文件或目录在（使用RETRIEVE命令）传递过程中进行压缩（解压缩）和打包。<br>
              /etc/ftpconversions的内容如下：<br>
              .Z  /bin/compress -d -c ％sT＿REG｜T＿ASCIIO＿UNCOMPRESSUNCOMPRESS<br>
                .Z/bin/compress -c ％sT＿REGO＿COMPRESSCOMPRESS<br>
              .gz  /bin/gzip -cd ％sT＿REG｜T＿ASCIIO＿UNCOMPRESSGUNZIP<br>
                .gz/bin/gzip -9 -c ％sT＿REGO＿COMPRESSGZIP<br>
                .tar/bin/tar -c -f - ％sT＿REG｜T＿DIRO＿TARTAR<br>
                .tar.Z/bin/tar -c -Z -f - ％sT＿REG｜T＿DIRO＿COMPRESS｜O＿TARTAR+COMPRESS<br>
                .tar.gz/bin/tar -c -z -f - ％sT＿REG｜T＿DIRO＿COMPRESS｜O＿TARTAR+GZIP<br>
              以上的指令的意思可以解释如下表：<br>
              “飞行”转换的主要作用是压缩传递的数据量，减少传递时间；另外，可以将一个目录下的所有文件打包后一次传过来，不用费事地一一传输。<br>
              2.3配置ftpusers<br>
              这个文件主要是用于控制哪些用户不可以登录本FTP服务器。下面是一个典型的ftpusers文件。<br>
              root<br>
              bin<br>
              daemon<br>
              adm<br>
              lp<br>
              sync<br>
              shutdown<br>
              halt<br>
              mail<br>
              news<br>
              uucp<br>
              operator<br>
              games<br>
              nobody<br>
              如果一个本地用户被包含在此文件中，他将不可以登录本FTP服务器。我们应当将root及其他系统账号加入本文件，这样可以提高系统的安全性。<br>
              2.4配置ftpgroups<br>
              这个文件并不是用于定义哪些用户组不可以登录本FTP服务器，它只有在使用Site Group功能时才起作用，请参考wu-ftpd的有关文档，一般不必使用它。<br>
              2.5配置ftphosts<br>
              这个文件设置允许或拒绝某些特定的节点以特定的用户名登录。如下面的例子：<br>
              allow ftp 61.128.193.48<br>
              deny ftp 61.128.193.<br>
              将拒绝61.128.193子网除61.128.193.48以外的所有节点的匿名登录。<br>
              注意：如果上面两行倒过来写，allow一行将不起作用。又如：<br>
              allow ftp .cpcw.com .yesky.com<br>
              deny ftp <br>
              将拒绝除cpcw.com和yesky.com以外的所有节点的匿名登录。<br>
              关于Linux下wu-ftpd的介绍，就到此为止了。希望大家以后在应用的时候多开动脑筋，活学活用。大家有问题欢迎来信讨论，我的E-Mail是cold.fire＠263.net。}<!-- #EndEditable --></p>
          </td>
        </tr>
      </table>
      <br>
      <br>
      <br>
    </td>
  </tr>
</table>
<table width="770" border="0" cellspacing="0" cellpadding="0" align="center" height="4" bgcolor="#FF9900">
  <tr> 
    <td width="161" bgcolor="#99CCFF"> </td>
    <td width="610" bgcolor="#FF9900"></td>
  </tr>
</table>
<table width="770" border="0" cellspacing="0" cellpadding="0" align="center">
  <tr> 
    <td> 
      <div align="center"><a href="library/DNB/bill/index.html" target="_blank"></a><a href="library/DNB/hdong/gao.htm" target="_blank"> 
        欢迎投稿 </a> | <a href="library/DNB/bill/index.html" target="_blank">广告联系</a>| <a href="library/DNB/serve/dnbjs.htm" target="_blank">关于我们</a>| 
        <a href="library/DNB/maillist/index.html" target="_blank">电子杂志</a>| <a href="library/DNB/hdong/zaopin.html" target="_blank">加入我们</a>| 
        <a href="library/DNB/hdong/xinsi.html" target="_blank">隐私条款</a></div>
    </td>
  </tr>
</table>
<table width="770" border="0" cellspacing="0" cellpadding="0" align="center">
  <tr> 
    <td> 
      <div align="center"><span class="nava"><font color="#000000" face="Arial, Helvetica, sans-serif"> 
        Copyright (C) 2000 Yesky.com, All Rights Reserved </font><font color="#000000"><br> 
        版权所有　 <font face="Arial, Helvetica, sans-serif"> Yesky </font><br> <a href="mailto:webmaster@yesky.com"> 
        如有意见请与我们联系 </a></font></span></div>
    </td>
  </tr>
</table>
</body>
<!-- #EndTemplate --></html>
