<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
BODY  {font-size : 12pt; font-weight : normal; font-style : normal; text-decoration : none;}
P  {font-size : 12pt;}
A  {font-size : 9pt; color: blue; text-decoration : none;}
A:Visited  {font-size : 9pt; color: blue; text-decoration : none;}
A:Active  {font-size : 9pt; color: red; text-decoration : none;}
A:Hover  {font-size : 9pt; color: blue; text-decoration : underline;}
TD  {font-size : 12pt;}
-->
</style>
<title>证券机构解决Y2K的一个实例</title>
</head>

<body bgcolor="#FFFFFF">
<div align="center"><center>
    <TABLE BORDER="0" WIDTH="715" HEIGHT="80" ALIGN="center">
      <TR> 
        <TD WIDTH="221" HEIGHT="69"><A HREF="../../../../www_lpzx_edu_default.html"><IMG SRC="http://www.lpzx.edu.cn/images/title01.gif" WIDTH="166"
        HEIGHT="77" ALT="电脑报LOGO" BORDER="0"></A></TD>
        <TD WIDTH="484" HEIGHT="69"> 
          <P ALIGN="center"><A
        HREF="http://netfin4.china.com/?adlink|2|CPCW-Front-Top|1|468x60|247MEDIA" TARGET="_top"><IMG
        SRC="http://netfin4.china.com/?adserv|2|CPCW-Front-Top|1|468x60|247MEDIA" BORDER="0"
        WIDTH="468" HEIGHT="60"></A><BR>
            中文十大网站之一，广告效果极佳，欢迎在此<A href="bill/index.htm">刊登广告</A>。 
        </TD>
      </TR>
    </TABLE>
    <table border="0" width="700" cellspacing="0" cellpadding="4">
  <tr>
    <td width="100%" valign="top" align="center"><div align="center"><center><table border="0"
    width="680" cellspacing="0" cellpadding="4">
      <tr>
        <td width="672" valign="top" bgcolor="#55002B"><p align="center"><font face="黑体"
        color="#FFFFFF"><strong>证券机构解决Y2K的一个实例</strong></font></td>
      </tr>
      <tr VALIGN="BOTTOM" ALIGN="LEFT">
        <td width="672" background="http://www.lpzx.edu.cn/library/images/%B5%D7%CE%C6.gif"><p align="left">　　随着2000年的日益临近，在全国范围内解决计算机千年问题的迫切性更加突出。<br>
        　　中国证监会对解决千年问题十分重视，并对由此可能引发的证券市场的金融风险有着充分的认识。在全国范围内已组织进行了三次全行业模拟解决千年问题的联网测试，包括证券营业部、深沪交易所、深沪证券卫星公司以及与证券经营机构有业务关联的电信、银行等部门。我单位及早进行了自查自测，根据自身情况，制定了营业部千年问题整体解决方案。现就我单位方案加以剖析，以供大家参考。</p>
        <p align="center"><strong>营业部计算机环境简介</strong></p>
        <p align="left">　　我单位营业环境为一部三厅模式。各证券交易厅之间相隔二至三公里，通过DDN专线联网，实现三个交易厅之间通存通炒。各交易厅均有一台网络服务器，并有各自独立的卫星接收装置。主机房有一台业务数据服务器，存有所有客户资料、历史交易情况。所有委托经DDN线路输往主机房。深圳证券委托由双向卫星发往深圳证券交易所，上海证券委托经由至长沙的DDN专线传输给省公司，经省公司双向卫星发往上海证券交易所。</p>
        <p align="center"><strong>硬件部分的千年问题及解决</strong></p>
        <p align="left">　　1.服务器<br>
        　　平时用于证券交易的工作服务器有四台：COMPAQ2500一台、COMPAQ2000一台、COMPAQ1500两台； 
        &nbsp;&nbsp;&nbsp; 作为工作服务器的备用机三台：COMPAQ2500一台、COMPAQ1000两台(注：以上COMPAQ服务器均为Proliant系列)；另有一台办公自动化用服务器：联想万全1300。<br>
        　　联想服务器购买时间较晚，且联想集团已承诺千年问题解决就绪。而COMPAQ服务器购买时间较早，型号不一，经测试，除COMPAQ2500以外，其它型号的服务器均有千年问题。在开机状态下，改变这些服务器时间至2000年以后，关机，再冷启动，服务器时间又回到1980年。<br>
        　　访问COMPAQ公司解决千年问题的专门网站，下载各种型号服务器的BIOS升级软件，在服务器上执行后，未再发现千年问题。需注意的是，不要一次将BIOS版本跳跃升级。否则服务器虽无任何出错提示，但工作会不稳定，经常死机。<br>
        　　2.无盘工作站<br>
        　　我单位无盘工作站有近三百台，386、486、586机均有。经过测试，586机及1996年底以后所生产的486机，未发现千年问题。386机及1996年底以前所生产的486机存在千年问题。<br>
        　　但无盘站有一特点，即经网卡自举引导后，读取的是服务器的时间，与其自身的COMS时间设置无关。即使存在千年问题，这些386、486机均运行正常，各项业务处理也正确。本着节约的原则，不作一次性淘汰处理，以后逐步更新。<br>
        　　3.有盘工作站<br>
        　　在30多台有盘站中，除两台Dell 586机以外，全为COMPAQ486、586机。经测试，COMPAQ486及较早的586机(如PROLINEA 
        5100)存在千年问题。有盘站启动时均读取的是本机的COMS时间，且有盘站均运行于较重要的环境中(如卫星接收装置)或存有重要数据，必须妥善进行处理。<br>
        　　对于这些问题的有盘站，取下其硬盘，安装于无千年问题的同创586机(Lucky 
        D8100)上，而将原机器作为无盘站使用。经改装及反复测试，同创有盘站及取下硬盘后的COMPAQ无盘机均工作正常。<br>
        　　4.网络设备<br>
        　　网卡、交换机、集线器、Modem、路由器、DTU等网络设备，由于无输入输出接口，或无时间项参数设置等原因，无法进行时间调整。询问厂家，得知不存在千年问题。经内部自测及全网联测，均未发现千年问题。<br>
        　　5.其它硬件<br>
        　　LED大屏及数码管大屏硬件部分经厂家出示技术白皮书，无千年问题，其显示内容只与软件有关。<br>
        　　可擦写PD光驱经测试正常。</p>
        <p align="center"><strong>软件部分的千年问题及解决</strong></p>
        <p align="left">　　1.系统软件<br>
        　　我单位服务器操作系统均为Netware 3.12，经测试，存在千年问题。访问Novell公司网站得知，需加补丁或升级至411版以上。<br>
        　　考虑到今后的发展，我单位一次购买了四套正版Netware 4.11(500 
        user)，替换了现有的网络操作系统，并下载了专为解决Netware 4.11的千年问题和其他缺陷的补丁程序，将操作系统作了修补、完善，经测试，未发现有千年问题。<br>
        　　办公自动化服务器上运行的是Windows NT 4.0版。经测试，无千年问题。至于Windows 
        98及Windows 95，均无千年问题，而Windows 3.2有显示方面的错误，对于原来运行于Windows 
        3.2系统下的应用程序，将其在Windows 98上调试运行。经调整一些参数后，应用程序运行正常。<br>
        　　2.柜台软件<br>
        　　我单位的柜台软件是长沙智星科技公司所开发的，为Client/Server模式，前台用C语言编写，数据库系统为sybase 
        10.0.2版。<br>
        　　在中国证监会组织的联网测试中，我单位对柜台系统在系统时间更改到2000年以后的所有交易方式(委托、撤单、红利、配股等)、各种交易手段(刷卡自助委托、热键自助委托、柜台填单委托、批量下单等)以及各功能模块(如账户资金模块、清算处理模块、查询打印模块、数据备份模块)进行仔细检查，一一进行了测试。<br>
        　　在测试中，各股票、资金数据未出现紊乱，利息计算正确，各功能模块基本正确。出现的主要问题是：在每日数据清算部分，对深、沪交易所红利数据未进行处理；在查询及打印部分，出现排序错误和输出年份错误。与软件开发商联系，经其修改程序，清算部分数据处理已正确，但查询和打印部分仍有一些问题。应与软件开发商联系，促其早日修正。<br>
        　　对于数据库系统，近期将把它升级为具有C2级安全标准、无千年问题的SQL 
        Server 6.5版，运行于WindowsNT 4.0下。<br>
        　　3.柜台周边软件<br>
        　　179电话委托系统和银证转账系统的开发及使用时间均不长。在设计这些软件时，就已考虑并解决好了千年问题。就券商端而言，已无千年问题可言。但它们涉及到电信、银行部门自身的千年问题解决程度。<br>
        　　在第三次全网联测中，与电信局、中国银行进行了协调，对这两部分进行了测试。数据接口、处理流程、返回结果均正常。但测试中银行端因实际业务正在使用，且测试中涉及到模拟资金的划转，因此只用备用机测试，尚未联上主机。以后还需在银行端进行解决千年问题测试时，与之协调、配合，尽量利用真实性环境进行测试。<br>
        　　4.卫星接收程序<br>
        　　卫星接收程序经深、沪卫星公司升级处理，现在版本如下：<br>
                      　　●深圳双向卫星接收程序3.5版，发送程序3.2版<br>
                      　　●深圳高速单向接收程序1.2版，上海单向接收程序3.16版<br>
        &nbsp;&nbsp;&nbsp; 经测试，这些程序已无千年问题。<br>
        　　5.基于Foxpro下所编的应用程序<br>
        　　对于在Foxpro 2.6 For DOS下所编的应用程序，由于其与日期无关，均运行正常。<br>
        　　LED大屏播放软件，日期显示上有错误。加入一条语句“set century 
        on”后，日期显示正确。在LED大屏排列上，平时年份用两位表示，2000年后增至四位，排列不下，且日期显示并不重要，故删去LED大屏上的日期显示。<br>
        　　代理开立股东帐户卡的程序，是由湖南省证券登记公司统一编写。其数据库中日期字段为两位，且程序中无到2000年后的判别语句，需进行统一修改。<br>
        　　6.办公自动化软件<br>
        　　湖南证券系统内部的办公自动化联网软件是基于Lotus Notes 4.6版编写，无千年问题。<br>
        　　7.其他应用程序<br>
                      　　现在所用的行情分析系统为钱龙3.06版，所用的资讯系统为深圳新德利财经资讯2.6版，经测试，无千年问题。<br>
        　　可擦写PD光盘驱动程序工作正常。<br>
        　　财务软件为省公司统一购置的长沙三门会计软件。原运行于DOS下，今年将统一升级，运行于Windows 
        98下，且由长沙三门公司承诺解决千年问题。</p>
        <p align="center"><strong>通讯与数据的千年问题及解决</strong></p>
        <p align="left">　　修改日期至2000年后，本地DDN通讯，与长沙DDN长途通讯，电话线拨号方式通讯(作为DDN专线中断时备用)的数据传送、交换均正常。通过Modem登陆异地网络传输数据，浏览Internet并下载数据正常。<br>
        　　经卫星接收、发送的数据正确。只是上海交易所发来的压缩文件(后缀名为sse)解包后，所解压出文件的创建日期，其年份为38(此为压缩程序的千年问题所致)，但内容正确。我单位处理数据时不涉及文件的创建日期，不至于出现问题。且上海交易所近期将改变此文件的压缩传送方式。</p>
        <p align="center"><strong>测试千年问题时的注意事项</strong></p>
        <p align="left">　　证券行业对于计算机系统的依赖程度很大，计算机系统异常，将影响到营业部的日常工作。因此，计算机千年问题的测试，带有一定的风险性。测试中一定要坚持安全原则。<br>
        　　要特别注重系统备份和数据备份，以确保测试后能进行系统恢复和数据恢复。测试时可采用生产环境进行测试，以真实模拟2000年前后的实际运行环境。测试结束后，将系统时钟修改为正确日期和时间。恢复系统后，对营业部交易系统的各环节进行检查。并重新打印各类帐表，确保正确无误。<br>
        　　为防范可能出现的技术风险，应从坏处着想，制定出完整详细、切实可行的应急计划。以下为我单位应急计划的要点：<br>
        &nbsp;&nbsp;&nbsp; 1.服务器出现故障时的应急计划<br>
        &nbsp;&nbsp;&nbsp; 
        每次对服务器软硬件系统进行测试时，对参测服务器进行完整的系统和数据备份。对于股票、资金等重要数据，在光盘上做双备份，另用单独的硬盘做备份，并异地多点存放。若服务器上的数据出现故障时，可以用备份数据重建系统。<br>
        &nbsp;&nbsp;&nbsp; 
        各参测服务器仍使用现行服务器，但只采用其中的一个镜像盘来进行测试。测试结束后，用另一个镜像盘作为主盘重建镜像，恢复服务器中的各类数据。<br>
        &nbsp;&nbsp;&nbsp; 
        各备用服务器上的目录、用户及权限、登录脚本都设好。若服务器硬件出现故障，即启用备份服务器。<br>
        &nbsp;&nbsp;&nbsp; 2.通信系统出现故障时的应急计划<br>
        &nbsp;&nbsp;&nbsp; DDN通信线路有故障时，通过电话线拨号备份系统重建连接。<br>
        &nbsp;&nbsp;&nbsp; 
        若某一交易厅的卫星接收系统出现故障，则从行情正常的交易厅发送行情和成交数据。若三个交易厅均出现行情故障，则从省公司电脑中心发送行情。紧急查找故障原因，尽快恢复正常。<br>
        &nbsp;&nbsp;&nbsp; 通信设备如路由器、DTU、MODEM等出现故障时，因无备件，可暂时取下179电话委托系统或者银证转帐系统用的这些设备换上，若在短时间内不能修理好，就用人工报盘来应急。<br>
        &nbsp;&nbsp;&nbsp; 3.网络设备出现故障时的应急计划<br>
        &nbsp;&nbsp;&nbsp; 
        网络交换机出现故障时，可将其上的网络线连接到普通HUB上，以保证网络系统不致中断。<br>
        &nbsp;&nbsp;&nbsp; HUB出现故障时，将联于其上的所有网络线，重新安排连接到其它的HUB空闲口上或备份HUB上，保证网络系统不致中断。<br>
        &nbsp;&nbsp;&nbsp; 4.其它<br>
        &nbsp;&nbsp;&nbsp; 
        重要工作站均设置好备用机，出现故障，可迅速用备用机换上。<br>
        &nbsp;&nbsp;&nbsp; 若LED大屏出现故障，就用大显示器临时替用，并立即与供应商联系抢修。<br>
        &nbsp;&nbsp;&nbsp; 各交易厅均为双路开关，若UPS出现故障，可将开关转向市电供电。亦可开动自有发电机组供电。<br>
        　　另外，测试前应依据本单位计算机应用的实际情况，制定出周密的测试计划，安排的测试数据应全面模拟日常交易的实际情况，包括现有的各种交易品种和各种交易方式。每个工作岗位的模拟操作应与日常操作保持一致。</p>
        <p align="center"><strong>结　语</strong></p>
        <p align="left">&nbsp;&nbsp;&nbsp; 
        经过几个月的不断努力，我单位计算机千年问题的最后解决已经初露端倪。只要我们认真对待，跟踪业界解决千年问题的最新动态，必能圆满地早日处理好计算机千年问题。<br>
        <strong>(湖南　范强)</strong></p>
        <p align="right"><font COLOR="#000000">本文出自：<a href="index.htm">《电脑报》1999年03月29日第12期</a></font> 
        </td>
      </tr>
    </table>
    </center></div></td>
  </tr>
</table>
    <DIV ALIGN="center">
      <CENTER>
      </CENTER>
    </DIV>
    <SCRIPT>
		document.write("<a href="library/DNB/1999/show_stats.htm%5C%22" target=sxrl>"); 
		document.write("<img src=\"http://refer.gznet.com/cgi-bin/rl_refer.cgi?UID=10015861&refer="+escape(top.document.referrer)+"\" width=25 height=15 border=0 alt=\"《电脑报》栏目排行榜\">"); 
		document.write("</a>"); 
	</SCRIPT>
    <NOSCRIPT> 
    <DD ALIGN="center"><A
  HREF="http://view.gznet.com/cgi-bin/rl_views.cgi?UID=10015861 target=sxrl&gt;"><IMG
  SRC="http://refer.gznet.com/cgi-bin/rl_refer.cgi?UID=10015861&amp;refer=http%3A//www.cpcw.com/NoJavaScript"
  WIDTH="25" HEIGHT="15" BORDER="0" ALT="《电脑报》栏目排行榜"></A></DD>
    </NOSCRIPT> 
  </center></div>
</body>
</html>
