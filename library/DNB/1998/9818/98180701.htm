<html>

<head>
<style type="text/css">
<!--
.ourfont{font-size: 12px;line-height: 17px;}
A:link {text-decoration: none; color: blue}
A:visited {text-decoration: none; color: "#54646D"}
A:active {text-decoration: none}
A:hover {text-decoration: underline; color: 000080} 
-->
</style>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>《电脑报》</title>
</head>

<body bgcolor="#FFFFFF">

<hr align="center" width="700">
<div align="center"><center>

<table border="0" width="700" cellspacing="0" cellpadding="4" bgcolor="#ECF7F4">
  <tr>
    <td width="100%" valign="top"><div align="center"><center><table border="0" width="680"
    cellspacing="0" cellpadding="4">
      <tr>
        <td width="672" valign="top"><p align="center"><font face="黑体" color="#004080"><strong>深入了解接口技术<br>
        </strong></font></td>
      </tr>
      <tr>
        <td width="672" valign="top"><p class="ourfont" align="left"><font color="#369681">　 
        &nbsp; CPU 
        与外部设备、存储器的连接和数据交换都需要通过接口设备来实现，前者被称为I／O接口，而后者则被称为存储器接口。存储器通常在CPU的同步控制下工作，接口电路比较简单；而I／O设备品种繁多，其相应的接口电路也各不相同，因此，习惯上说到接口只是指I／O接口。<br>
        　　<strong>一、I／O接口的概念</strong><br>
        　　1.接口的分类<br>
        　　I／O接口的功能是负责实现CPU通过系统总线把I／O电路和外围设备联系在一起，按照电路和设备的复杂程度，I／O接口的硬件主要分为两大类：<br>
        　　1）I／O接口芯片<br>
        　　这些芯片大都是集成电路，通过CPU输入不同的命令和参数，并控制相关的I／O电路和简单的外设作相应的操作，常见的接口芯片如定时／计数器、中断控制器、DMA控制器、并行接口等。<br>
        　　2）I／O接口控制卡<br>
        　　有若干个集成电路按一定的逻辑组成为一个部件，或者直接与CPU同在主板上，或是一个插件插在系统总线插槽上。 
        <br>
        　　按照接口的连接对象来分，又可以将他们分为串行接口、并行接口、键盘接口和磁盘接口等。<br>
        　　2.接口的功能<br>
        　　由于计算机的外围设备品种繁多，几乎都采用了机电传动设备，因此，CPU在与I／O设备进行数据交换时存在以下问题：<br>
        　　●速度不匹配<br>
        　　I／O设备的工作速度要比CPU慢许多，而且由于种类的不同，他们之间的速度差异也很大，例如硬盘的传输速度就要比打印机快出很多。<br>
        　　●时序不匹配<br>
        　　各个I／O设备都有自己的定时控制电路，以自己的速度传输数据，无法与CPU的时序取得统一。<br>
        　　●信息格式不匹配<br>
        　　不同的I／O设备存储和处理信息的格式不同，例如可以分为串行和并行两种；也可以分为二进制格式、ACSII编码和BCD编码等。<br>
        　　●信息类型不匹配<br>
        　　不同I／O设备采用的信号类型不同，有些是数字信号，而有些是模拟信号，因此所采用的处理方式也不同。<br>
        　　基于以上原因，CPU与外设之间的数据交换必须通过接口来完成，通常接口有以下一些功能：<br>
        　　1）设置数据的寄存、缓冲逻辑，以适应CPU与外设之间的速度差异，接口通常由一些寄存器或RAM芯片组成，如果芯片足够大还可以实现批量数据的传输；<br>
        　　2）能够进行信息格式的转换，例如串行和并行的转换；<br>
        　　3）能够协调CPU和外设两者在信息的类型和电平的差异，如电平转换驱动器、数／模或模／数转换器等；<br>
        　　4）协调时序差异；<br>
        　　5）地址译码和设备选择功能；<br>
        　　6）设置中断和DMA控制逻辑，以保证在中断和DMA允许的情况下产生中断和DMA请求信号，并在接受到中断和DMA应答之后完成中断处理和DMA传输。<br>
        　　3.接口的控制方式<br>
        　　CPU通过接口对外设进行控制的方式有以下几种：<br>
        　　1）程序查询方式<br>
        　　这种方式下，CPU通过I／O指令询问指定外设当前的状态，如果外设准备就绪，则进行数据的输入或输出，否则CPU等待，循环查询。<br>
        　　这种方式的优点是结构简单，只需要少量的硬件电路即可，缺点是由于CPU的速度远远高于外设，因此通常处于等待状态，工作效率很低。<br>
        　　2）中断处理方式<br>
        　　在这种方式下，CPU不再被动等待，而是可以执行其他程序，一旦外设为数据交换准备就绪，可以向CPU提出服务请求，CPU如果响应该请求，便暂时停止当前程序的执行，转去执行与该请求对应的服务程序，完成后，再继续执行原来被中断的程序。<br>
        　　中断处理方式的优点是显而易见的，它不但为CPU省去了查询外设状态和等待外设就绪所花费的时间，提高了CPU的工作效率，还满足了外设的实时要求。但需要为每个I／O设备分配一个中断请求号和相应的中断服务程序，此外还需要一个中断控制器（I／O接口芯片）管理I／O设备提出的中断请求，例如设置中断屏蔽、中断请求优先级等。<br>
        　　此外，中断处理方式的缺点是每传送一个字符都要进行中断，启动中断控制器，还保留和恢复现场以便能继续原程序的执行，花费的工作量很大，这样如果需要大量数据交换，系统的性能会很低。<br>
        　　3）DMA（直接存储器存取）传送方式<br>
        　　DMA最明显的一个特点是它不是用软件而是采用一个专门的硬件电路——DMA控制器来控制内存与外设之间的数据交流，无须CPU介入，大大提高CPU的工作效率。<br>
        　　在进行DMA数据传送之前，DMA控制器会向CPU申请总线控制权，CPU如果允许，则将控制权交出，因此，在数据交换时，总线控制权由DMA控制器掌握，在传输结束后，DMA控制器将总线控制权交还给CPU。<br>
        　　<strong>二、常见接口</strong><br>
        　　1.并行接口<br>
        　　目前，计算机中的并行接口主要作为打印机端口，接口使用的不再是36针接头而是25针D形接头。所谓“并行”，是指8位数据同时通过并行线进行传送，这样数据传送速度大大提高，但并行传送的线路长度受到限制，因为长度增加，干扰就会增加，容易出错。<br>
        　　现在有五种常见的并口：4位、8位、半8位、EPP和ECP，大多数PC机配有4位或8位的并口，许多利用Intel 
        386 芯片组的便携机配有EPP口，支持全部IEEE 1284并口规格的计算机配有ECP并口。<br>
        　　◆标准并行口 4位、8位、半8位<br>
        　　4位口一次只能输入4位数据，但可以输出8位数据；8位口可以一次输入和输出8位数据；半8位也可以。<br>
        　　◆EPP口（增强并行口）<br>
        　　由Intel等公司开发，允许8位双向数据传送，可以连接各种非打印机设备，如扫描仪、LAN适配器、磁盘驱动器和CDROM驱动器等。<br>
        　　◆ECP口（扩展并行口）<br>
        　　由Microsoft、HP公司开发，能支持命令周期、数据周期和多个逻辑设备寻址，在多任务环境下可以使用DMA（直接存储器访问）。<br>
        　　目前几乎所有的586机的主板都集成了并行口插座，标注为Paralle1或LPT1，是一个26针的双排针插座。<br>
        　　2.串行接口<br>
        　　计算机的另一种标准接口是串行口，现在的PC机一般至少有两个串行口COM1和COM2。串行口不同于并行口之处在于它的数据和控制信息是一位接一位串行地传送下去。这样，虽然速度会慢一些，但传送距离较并行口更长，因此长距离的通信应使用串行口。通常COM1使用的是9针D形连接器，而COM2有些使用的是老式的DB25针连接器。<br>
        　　3.磁盘接口<br>
        　　1）IDE接口<br>
        　　IDE接口也叫做ATA端口，只可以接两个容量不超过528M的硬盘驱动器，接口的成本很低，因此在386、486时期非常流行。但大多数IDE接口不支持DMA数据传送，只能使用标准的PC 
        I／O端口指令来传送所有的命令、状态、数据。<br>
        　　几乎所有的586主板上都集成了两个40针的双排针IDE接口插座，分别标注为IDE1和IDE2(见图1)。<br>
        　　2）EIDE 接口<br>
        　　EIDE接口较IDE接口有了很大改进，是目前最流行的接口。<br>
        　　首先，它所支持的外设不再是2个而是4个了，所支持的设备除了硬盘，还包括CD－ROM驱动器磁盘备份设备等。<br>
        　　其次，EIDE标准取消了528MB的限制，代之以8GP限制。<br>
        　　第三，EIDE有更高的数据传送速率，支持PIO 模式3和模式4标准。<br>
        　　4.SCSI接口<br>
        　　SCSI（Small Computer System Interface）小计算机系统接口，在做图形处理和网络服务的计算机中被广泛采用SCSI接口的硬盘。除了硬盘以外，SCSI接口还可以连接CD－ROM驱动器、扫描仪和打印机等(见图2)，它具有以下特点：<br>
        　　＊可同时连接7个外设；<br>
        　　＊总线配置为并行8位、16位或32位； <br>
        　　＊允许最大硬盘空间为8.4GB（有些已达到9.09GB）；<br>
        　　＊更高的数据传输速率，IDE是2MB每秒，SCSI通常可以达到5MB每秒，FAST 
        SCSI（SCSI－2）能达到10MB每秒，最新的SCSI－3甚至能够达到40MB每秒 
        ，而EIDE最高只能达到16.6MB每秒；<br>
        　　＊成本较IDE和EIDE接口高很多，而且，SCSI接口硬盘必须和SCSI接口卡配合使用，SCSI接口卡也比IED和EIDE接口贵很多。<br>
        　　＊SCSI接口是智能化的，可以彼此通信而不增加CPU的负担。在IDE和EIDE设备之间传输数据时，CPU必须介入，而SCSI设备在数据传输过程中起主动作用，并能在SCSI总线内部具体执行，直至完成再通知CPU。<br>
        　　5.USB接口<br>
        　　最新的USB串行接口标准是由Microsoft、Intel、Compaq、IBM等大公司共同推出，它提供机箱外的热即插即用连接，用户在连接外设时不用再打开机箱、关闭电源，而是采用“级联”方式，每个USB设备用一个USB插头连接到一个外设的USB插座上，而其本身又提供一个USB 
        插座给下一个USB设备使用，通过这种方式的连接，一个USB控制器可以连接多达127个外设，而每个外设间的距离可达5米。USB统一的4针圆形插头将取代机箱后的众多的串／并口（鼠标、MODEM 
        ）键盘等插头。USB能智能识别USB链上外围设备的插入或拆卸。<br>
        　　除了能够连接键盘、鼠标等，USB还可以连接ISDN、电话系统、数字音响、打印机以及扫描仪等低速外设。<br>
        　　<strong>三、I／O扩展槽</strong><br>
        　　I／O扩展槽即I／O信号传输的路径，是系统总线的延伸，可以插入任意的标准选件，如显示卡、解压卡、MODEM卡和声卡等。通过I／O扩展槽，CPU可对连接到该通道的所有I／O接口芯片和控制卡寻址访问，进行读写。<br>
        　　根据总线的类型不同，主板上的扩展槽可分为ISA、EISA、MAC、VESA和PCI几种。<br>
        　　1）ISA插槽<br>
        　　黑色，分为8位、16位两种。16位的扩展槽可以插8位和16位的控制卡，但8位的扩展槽只能插8位卡。<br>
        　　2）EISA插槽<br>
        　　棕色，外型、长度与16位的ISA卡一样，但深度较大，可插入ISA与EISA控制卡。<br>
        　　3）VESA插槽<br>
        　　棕色，位于16位ISA扩展插槽的下方，与ISA插槽配合使用。<br>
        　　4）PCI插槽<br>
        　　白色，与VESA插槽一样长，与ISA插槽平行，不需要与ISA插槽配合使用，而且只能插入PCI控制卡。由于主板的空间有限，PCI插槽要占用ISA插槽的位置。</font></p>
        <p align="right"><span class="ourfont"><font color="#369681">本文出自：</font><a
        href="index.htm">《电脑报》1998年5月11日第18期7版</a></span></td>
      </tr>
    </table>
    </center></div></td>
  </tr>
</table>
</center></div>
</body>
</html>
